<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SafeHer India | Stop NCII Abuse</title>
    <meta name="description"
        content="SafeHer India is a free tool designed to support victims of Non-Consensual Intimate Image (NCII) abuse.">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <style>
        .hero-entrance {
            padding: 80px 20px;
            text-align: center;
            background: linear-gradient(135deg, #f8fafc 0%, #edf2f7 100%);
            border-bottom: 1px solid var(--border);
        }

        .hero-entrance h1 {
            font-size: 2.5rem;
            color: var(--primary);
            margin-bottom: 15px;
            font-weight: 800;
        }

        .hero-entrance .tagline {
            font-size: 1.2rem;
            color: var(--text-muted);
            margin-bottom: 35px;
        }

        #intro-sections {
            background: #fff;
            padding: 60px 20px;
        }

        .intro-block {
            margin-bottom: 50px;
        }

        .intro-block h2 {
            font-size: 1.75rem;
            border-bottom: 2px solid var(--orange);
            display: inline-block;
            margin-bottom: 20px;
            padding-bottom: 5px;
        }

        .criteria-box {
            background: #f8fafc;
            border-left: 4px solid var(--orange);
            padding: 25px;
            margin: 25px 0;
            border-radius: 0 12px 12px 0;
        }

        /* Adjusting wizard to be very prominent when it appears */
        #wizard-container {
            margin: -40px auto 40px;
            position: relative;
            z-index: 10;
        }
    </style>
</head>

<body>

    <header class="site-header">
        <div class="logo">
            <span class="logo__name" style="font-size: 1.8rem;">
                <span class="logo__stop">Safe</span><span class="logo__ncii">Her</span><span class="logo__org">
                    India</span>
            </span>
        </div>
    </header>

    <main>
        <!-- ENTRANCE HERO -->
        <section class="hero-entrance">
            <h1>Create Your Case</h1>
            <p class="tagline">Take control and protect your privacy today.</p>
            <button id="start-tool-btn" class="btn btn--primary btn--large" style="max-width:300px;">request
                deletion</button>
        </section>

        <!-- WIZARD CONTAINER (Initially Hidden) -->
        <section id="wizard-container" style="display:none;">
            <div class="wizard-header"
                style="display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #eee; padding-bottom: 20px; margin-bottom: 30px;">
                <div style="display: flex; align-items: center; gap: 15px;">
                    <button id="wizard-back-btn" class="btn"
                        style="padding: 8px; background: #f1f5f9; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; border: 1px solid #e2e8f0;">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                            stroke-width="2.5" stroke-linecap="round" stroke-linejoin="round">
                            <polyline points="15 18 9 12 15 6"></polyline>
                        </svg>
                    </button>
                    <h2 style="margin: 0; font-size: 1.5rem;">Create Your Case</h2>
                </div>
                <div class="wizard-progress-bar" style="width: 120px; text-align: right;">
                    <div id="progress-text" style="font-size: 0.8rem; font-weight: 600; margin-bottom: 8px;">1 / 9 (11%)
                    </div>
                    <div
                        style="width: 100%; background: #eee; height: 6px; border-radius: 3px; display: flex; justify-content: flex-start;">
                        <div id="progress-fill"
                            style="width: 11%; background: #3c4b64; height: 100%; border-radius: 3px;"></div>
                    </div>
                </div>
            </div>

            <div id="wizard-steps-container">
                <!-- Q-STEP 1: Age -->
                <div class="wizard-step active" id="step-1-1">
                    <p style="font-size: 1.1rem; margin-bottom: 30px;">What is your age in the image(s)/video(s) you
                        want to submit?</p>
                    <div style="display: flex; gap: 15px;">
                        <button class="btn btn--large q-btn" data-next="disqualified-under18" style="flex: 1;">Under
                            18</button>
                        <button class="btn btn--large q-btn" data-next="1-2" style="flex: 1;">18 or over</button>
                    </div>
                </div>

                <div class="wizard-step" id="step-1-2" style="display:none">
                    <p style="font-size: 1.1rem; margin-bottom: 30px;">Who is in the image(s)/video(s)?</p>
                    <div style="display: flex; gap: 15px;">
                        <button class="btn btn--large q-btn" data-next="platform-selection" style="flex: 1;">Me</button>
                        <button class="btn btn--large q-btn" data-next="platform-selection" style="flex: 1;">Someone
                            else</button>
                    </div>
                </div>

                <div class="wizard-step" id="step-platform-selection" style="display:none">
                    <div class="wizard-card">
                        <h2>Select Platforms</h2>
                        <p style="font-size: 0.95rem; margin-bottom: 20px; color: #64748b;">Ready for deletion. Select
                            the platforms where you want the deletion request to be sent.</p>

                        <div class="platform-grid">
                            <label class="platform-item">
                                <input type="checkbox" name="platform" value="google">
                                <div style="width: 16px; height: 16px; background: #4285F4; border-radius: 2px;"></div>
                                <span class="platform-name">Google</span>
                            </label>
                            <label class="platform-item">
                                <input type="checkbox" name="platform" value="facebook">
                                <div style="width: 16px; height: 16px; background: #1877F2; border-radius: 2px;"></div>
                                <span class="platform-name">Facebook</span>
                            </label>
                            <label class="platform-item">
                                <input type="checkbox" name="platform" value="instagram">
                                <div style="width: 16px; height: 16px; background: #E4405F; border-radius: 2px;"></div>
                                <span class="platform-name">Instagram</span>
                            </label>
                            <label class="platform-item">
                                <input type="checkbox" name="platform" value="tiktok">
                                <div style="width: 16px; height: 16px; background: #000000; border-radius: 2px;"></div>
                                <span class="platform-name">TikTok</span>
                            </label>
                            <label class="platform-item">
                                <input type="checkbox" name="platform" value="x">
                                <div style="width: 16px; height: 16px; background: #000000; border-radius: 2px;"></div>
                                <span class="platform-name">X (Twitter)</span>
                            </label>
                            <label class="platform-item">
                                <input type="checkbox" name="platform" value="whatsapp">
                                <div style="width: 16px; height: 16px; background: #25D366; border-radius: 2px;"></div>
                                <span class="platform-name">WhatsApp</span>
                            </label>
                            <label class="platform-item">
                                <input type="checkbox" name="platform" value="telegram">
                                <div style="width: 16px; height: 16px; background: #26A5E4; border-radius: 2px;"></div>
                                <span class="platform-name">Telegram</span>
                            </label>
                            <label class="platform-item">
                                <input type="checkbox" name="platform" value="snapchat">
                                <div style="width: 16px; height: 16px; background: #FFFC00; border-radius: 2px;"></div>
                                <span class="platform-name">Snapchat</span>
                            </label>
                            <label class="platform-item">
                                <input type="checkbox" name="platform" value="reddit">
                                <div style="width: 16px; height: 16px; background: #FF4500; border-radius: 2px;"></div>
                                <span class="platform-name">Reddit</span>
                            </label>
                            <label class="platform-item">
                                <input type="checkbox" name="platform" value="pinterest">
                                <div style="width: 16px; height: 16px; background: #BD081C; border-radius: 2px;"></div>
                                <span class="platform-name">Pinterest</span>
                            </label>
                        </div>

                        <button class="btn btn--primary btn--large" id="to-url-step" disabled
                            style="width: 100%; margin-top:20px;">Continue</button>
                    </div>
                </div>

                <div class="wizard-step" id="step-1-2b" style="display:none">
                    <p style="font-size: 1.1rem; margin-bottom: 15px;">Do you have a URL/link where this content is
                        currently being shared?</p>
                    <div id="dynamic-url-inputs"></div>
                    <button class="btn btn--large btn--primary q-btn" id="submit-urls-btn" data-next="url-removal"
                        style="width: 100%; margin-top:10px;">Continue</button>
                </div>

                <div class="wizard-step" id="step-url-removal" style="display:none">
                    <h2 id="search-status-title" style="font-size: 1.3rem; margin-bottom: 20px;">Searching for
                        Content...</h2>
                    <div id="search-results-container"
                        style="background: #f8f9fa; border: 1px solid #e2e8f0; border-radius: 8px; padding: 15px; margin-bottom: 30px;">
                        <!-- Results will be injected here -->
                    </div>
                    <button id="finish-removal-btn" class="btn btn--large btn--primary q-btn" data-next="1-3"
                        style="width: 100%; opacity: 0.5; pointer-events: none;">Please wait...</button>
                </div>

                <div class="wizard-step" id="step-1-3" style="display:none">
                    <p style="font-size: 1.1rem; margin-bottom: 30px;">Where was the image taken?</p>
                    <div style="display: flex; gap: 15px;">
                        <button class="btn btn--large q-btn" data-next="1-4" style="flex: 1;">Public Place</button>
                        <button class="btn btn--large q-btn" data-next="1-4" style="flex: 1;">Private Place</button>
                    </div>
                </div>

                <div class="wizard-step" id="step-1-4" style="display:none">
                    <p style="font-size: 1.1rem; margin-bottom: 30px;">Are you nude or semi-nude in the content?</p>
                    <div style="display: flex; gap: 15px;">
                        <button class="btn btn--large q-btn" data-next="1-5" style="flex: 1;">Nude / Semi-nude</button>
                        <button class="btn btn--large q-btn" data-next="1-5" style="flex: 1;">Fully Clothed</button>
                    </div>
                </div>

                <div class="wizard-step" id="step-1-5" style="display:none">
                    <p style="font-size: 1.1rem; margin-bottom: 30px;">I am engaging in a sexual act:</p>
                    <div style="display: flex; gap: 15px;">
                        <button class="btn btn--large q-btn" data-next="2" style="flex: 1;">Yes</button>
                        <button class="btn btn--large q-btn" data-next="2" style="flex: 1;">No</button>
                    </div>
                </div>

                <div class="wizard-step" id="step-disqualified-under18" style="display:none">
                    <div class="wizard-card wizard-card--error">
                        <h2>We Cannot Help</h2>
                        <p>If you are under 18 in the content, please contact the <a
                                href="https://takeitdown.ncmec.org/" target="_blank">National Center for Missing and
                                Exploited Children</a>.</p>
                    </div>
                </div>

                <div class="wizard-step" id="step-2" style="display:none">
                    <div class="wizard-card">
                        <h2>Select Your Images/Videos (Optional)</h2>
                        <p style="font-size: 0.95rem; margin-bottom: 20px; color: #64748b;">Once you submit, we will
                            automatically generate digital fingerprints and send block report requests to the major
                            platforms.</p>
                        <div class="upload-zone" id="upload-zone">
                            <p>Drag & drop or <strong>click to browse</strong></p>
                            <input type="file" id="file-input" multiple accept="image/*,video/*" style="display:none">
                        </div>
                        <div class="file-list" id="file-list" style="margin-bottom: 20px;"></div>
                        <button class="btn btn--primary btn--large" id="sumbit-step-2" disabled
                            style="width: 100%;">Submit Request</button>
                    </div>
                </div>



                <div class="wizard-step" id="step-success" style="display:none">
                    <div class="wizard-card wizard-card--success" style="text-align: center;">
                        <div
                            style="background: #16a34a; color: white; width: 60px; height: 60px; border-radius: 50%; display: flex; align-items: center; justify-content: center; margin: 0 auto 20px; font-size: 2rem;">
                            âœ“</div>
                        <h2>Submission Received</h2>
                        <p>Your files have been processed and your request is being handled.</p>
                        <p id="success-platform-msg" style="font-weight: 600; color: #166534; margin: 15px 0;">Deletion
                            request is sent. Use the
                            platforms' official mail address for follow-ups.</p>
                        <p>Case Number:</p>
                        <div id="case-number-display"
                            style="font-weight: bold; font-size: 1.5rem; margin: 15px 0; padding: 15px; background: rgba(255,255,255,0.8); border-radius: 8px; border: 1px dashed #16a34a;">
                        </div>
                        <button class="btn btn--secondary" id="download-pdf-btn"
                            style="margin-top: 15px; width: 100%; display: flex; align-items: center; justify-content: center; gap: 10px;">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor"
                                stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v4" />
                                <polyline points="7 10 12 15 17 10" />
                                <line x1="12" y1="15" x2="12" y2="3" />
                            </svg>
                            Download Request PDF
                        </button>
                        <button class="btn btn--primary" onclick="location.reload()"
                            style="margin-top: 10px; width: 100%;">Return to Home</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- INFO SECTIONS BELOW -->
        <section id="intro-sections">
        </section>
    </main>

    <footer class="site-footer">
        <p>&nbsp;</p>
    </footer>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="script.js"></script>
</body>

</html>